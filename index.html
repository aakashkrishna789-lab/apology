<script>
const sections = document.querySelectorAll('section');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const response = document.getElementById('response');
const cat = document.getElementById('catArt');

let currentSection = 0;

// Helper: activate section with smooth scroll
function activate(section) {
  sections.forEach(s => s.classList.remove('active'));
  section.classList.add('active');
  section.scrollIntoView({behavior:'smooth', block:'start'});
}

// Helper: sparkle effect
function sparkle(parent) {
  const sp = document.createElement('div');
  sp.className = 'sparkle';
  sp.style.left = Math.random() * 80 + '%';
  sp.style.top = Math.random() * 80 + '%';
  parent.appendChild(sp);
  setTimeout(() => parent.removeChild(sp), 1500);
}

// Helper: confetti effect
function confetti() {
  for(let i=0;i<60;i++){
    const f = document.createElement('div');
    f.className='confettiParticle';
    f.style.left=Math.random()*100+'%';
    f.style.background=['gold','#ffd700','#fffacd','#f0e68c'][Math.floor(Math.random()*4)];
    f.style.animationDuration=(2+Math.random()*3)+'s';
    document.body.appendChild(f);
    setTimeout(()=>document.body.removeChild(f),5000);
  }
}

// Helper: move No button randomly
function moveNo(){
  const w = window.innerWidth - noBtn.offsetWidth - 20;
  const h = window.innerHeight - noBtn.offsetHeight - 20;
  noBtn.style.position='absolute';
  noBtn.style.left=Math.random()*w+'px';
  noBtn.style.top=Math.random()*h+'px';
}

// Initialize background cats
for(let i=0;i<20;i++){
  const b = document.createElement('div');
  b.className='backgroundCat';
  b.style.left=Math.random()*90+'%';
  b.style.top=Math.random()*90+'%';
  b.textContent='/\\_/\\';
  document.body.appendChild(b);
}

// Cat reactions per section
const catReactions = [
  "/\\_/\\ ( ^.^ ) > â™¥ <",  // Section1
  "/\\_/\\ ( ^_^ ) > âœ¨ <",  // Section2
  "/\\_/\\ ( -.- ) > ðŸ’› <",  // Section3
  "/\\_/\\ ( ^o^ ) > ðŸŽ‰ <"   // Section4 - Thank You
];

// --- Button Events ---

// Yes button: auto-advance to Thank You with effects
yesBtn.addEventListener('click', () => {
  if(currentSection === 0){
    response.textContent = "Are you sure? ðŸ¤”";
    cat.textContent = catReactions[0];
    sparkle(sections[0]);
  } else if(currentSection < sections.length - 1){
    currentSection++;
    activate(sections[currentSection]);
    cat.textContent = catReactions[currentSection];
    sparkle(sections[currentSection]);
    // Automatically go to Thank You if next is last
    if(currentSection === sections.length - 1){
      confetti();
      response.textContent = "Thank you so much! ðŸ’–ðŸŽ‰";
    }
  }
});

// No button: playfully dodge
noBtn.addEventListener('click', () => {
  response.textContent = "I really hope youâ€™ll reconsider ðŸ˜…ðŸ™";
  cat.textContent = "/\\_/\\ ( o_o ) > â™¥ <";
  moveNo();
});
noBtn.addEventListener('mouseover', moveNo);
</script>
